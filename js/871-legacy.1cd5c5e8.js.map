{"version":3,"file":"js/871-legacy.1cd5c5e8.js","mappings":"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","sources":["webpack://vue-login-signup-ui/./src/components/ModalConfirm.vue?0dc9","webpack://vue-login-signup-ui/src/components/ModalConfirm.vue","webpack://vue-login-signup-ui/./src/components/ModalConfirm.vue?d5f3","webpack://vue-login-signup-ui/./src/components/ModalConfirm.vue","webpack://vue-login-signup-ui/./src/components/ModalDialog.vue?fa33","webpack://vue-login-signup-ui/src/components/ModalDialog.vue","webpack://vue-login-signup-ui/./src/components/ModalDialog.vue?0f51","webpack://vue-login-signup-ui/./src/components/ModalDialog.vue","webpack://vue-login-signup-ui/./src/views/Login.vue?39d7","webpack://vue-login-signup-ui/src/views/Login.vue","webpack://vue-login-signup-ui/./src/views/Login.vue?3c97","webpack://vue-login-signup-ui/./src/views/Login.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-modal',{ref:\"modal\",attrs:{\"id\":\"modal-prevent-closing\",\"centered\":\"\",\"title\":\"User Confirmation\"},on:{\"show\":_vm.resetModal,\"hidden\":_vm.resetModal,\"ok\":_vm.handleOk}},[_c('OverlayComponent',{attrs:{\"show\":_vm.showOverlayConfirm}},[_c('p',{staticClass:\"my-4\"},[_vm._v(\" Please enter the confirmation code we sent to your email. \")]),_c('form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label-for\":\"name-input\",\"invalid-feedback\":_vm.invFeedbackTxt,\"state\":_vm.codeState}},[_c('b-form-input',{attrs:{\"id\":\"name-input\",\"type\":\"number\",\"state\":_vm.codeState,\"required\":\"\",\"size\":\"lg\",\"placeholder\":\"Enter your code\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- Modal Confirmation Component -->\n  <div>\n    <b-modal id=\"modal-prevent-closing\" centered ref=\"modal\" title=\"User Confirmation\" @show=\"resetModal\"\n      @hidden=\"resetModal\" @ok=\"handleOk\">\n      <!-- Overlay Component -->\n      <OverlayComponent :show=\"showOverlayConfirm\">\n        <!-- Confirmation message -->\n        <p class=\"my-4\">\n          Please enter the confirmation code we sent to your email.\n        </p>\n        <!-- Confirmation form -->\n        <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\n          <b-form-group label-for=\"name-input\" :invalid-feedback=\"invFeedbackTxt\" :state=\"codeState\">\n            <b-form-input id=\"name-input\" type=\"number\" v-model=\"code\" :state=\"codeState\" required size=\"lg\"\n              placeholder=\"Enter your code\"></b-form-input>\n          </b-form-group>\n        </form>\n      </OverlayComponent>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport auth from \"@/assets/js/auth\";\nimport OverlayComponent from \"@/components/Overlay\";\n\nexport default {\n  name: 'ModalConfirmation',\n  components: {\n    OverlayComponent\n  },\n  props: {\n    email: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      // Code input value\n      code: '',\n      // Code input validation state\n      codeState: null,\n      // Feedback message for invalid code input\n      invFeedbackTxt: 'Code is required',\n      // Flag to control overlay visibility\n      showOverlayConfirm: false\n    };\n  },\n  methods: {\n    // Check the validity of the form\n    checkFormValidity() {\n      const valid = this.$refs.form.checkValidity();\n      this.codeState = valid;\n      return valid;\n    },\n    // Reset modal state\n    resetModal() {\n      this.code = '';\n      this.codeState = null;\n    },\n    // Handle OK button click\n    handleOk(bvModalEvent) {\n      bvModalEvent.preventDefault();\n      this.handleSubmit();\n    },\n    // Handle form submission\n    async handleSubmit() {\n      if (!this.checkFormValidity()) {\n        return;\n      }\n      this.showOverlayConfirm = !this.showOverlayConfirm;\n      try {\n        const response = await auth.confirmation(this.email, this.code);\n        this.confirmationMsgBox(response.data.message, 'Success', 'success', 'OK');\n      } catch (error) {\n        this.confirmationMsgBox(error.response.data.message, 'Error', 'danger', 'Retry');\n        this.showOverlayConfirm = !this.showOverlayConfirm;\n        return;\n      }\n    },\n    // Show confirmation message box\n    confirmationMsgBox(text, status, variant, okTitle) {\n      this.$bvModal.msgBoxOk(text, {\n        title: status,\n        size: 'sm',\n        buttonSize: 'sm',\n        okTitle: okTitle,\n        okVariant: variant,\n        cancelTitle: 'NO',\n        headerClass: 'p-2 border-bottom-0',\n        footerClass: 'p-2 border-top-0',\n        centered: true\n      })\n        .then(value => {\n          if (variant === 'success' && value) {\n            this.resetModal;\n            this.$router.push('/');\n            this.showOverlayConfirm = !this.showOverlayConfirm;\n          }\n        })\n        .catch(err => {\n          // An error occurred\n        });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalConfirm.vue?vue&type=template&id=51f7b623&\"\nimport script from \"./ModalConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalConfirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":\"modal-center\",\"centered\":\"\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('p',[_vm._v(_vm._s(_vm.text))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-modal id=\"modal-center\" centered v-model=\"isOpen\">\n        <p>{{ text }}</p>\n    </b-modal>\n</template>\n\n<script>\nexport default {\n    props: {\n        value: {\n            type: Boolean,\n            required: true,\n        },\n        text: {\n            type: String,\n            required: true,\n        },\n    },\n    computed: {\n        isOpen: {\n            get() {\n                return this.value;\n            },\n            set(newValue) {\n                this.$emit(\"input\", newValue);\n            },\n        },\n    },\n};\n</script>\n\n<style>\n.modal-header .close {\n  display:none;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModalDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalDialog.vue?vue&type=template&id=9ee38848&\"\nimport script from \"./ModalDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalDialog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('OverlayComponent',{attrs:{\"show\":_vm.loggedIn}},[(!_vm.loggedIn)?_c('div',{staticClass:\"inner-block\"},[_c('div',[_c('ModalConfirm',{ref:\"modalConfirmation\",attrs:{\"email\":_vm.email}}),_c('ModalDialog',{attrs:{\"text\":_vm.modalText},model:{value:(_vm.isModalOpen),callback:function ($$v) {_vm.isModalOpen=$$v},expression:\"isModalOpen\"}})],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-md-12\"},[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"Login\")]),_c('OverlayComponent',{attrs:{\"show\":_vm.showOverlaySignIn}},[_c('form',{staticClass:\"mt-4\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group fixed-form-margin\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"email\",\"required\":\"\",\"placeholder\":\"user@mail.com\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_c('div',{staticClass:\"form-group fixed-form-margin\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Password:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),(_vm.error)?_c('p',{staticClass:\"text-danger\"},[_vm._v(\" Has introducido mal el email o la contraseña. \")]):_vm._e(),_c('button',{staticClass:\"btn btn-outline-primary fixed-form-margin\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Login\")])]),_c('p',{staticClass:\"mt-3\"},[_vm._v(\" ¿Don't have an account? \"),_c('router-link',{attrs:{\"to\":\"/signup\"}},[_vm._v(\"Signup\")])],1)])],1)])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- Overlay Component -->\n  <OverlayComponent :show=\"loggedIn\">\n    <div v-if=\"!loggedIn\" class=\"inner-block\">\n      <div>\n        <!-- Modal Dialog Component -->\n        <ModalConfirm ref=\"modalConfirmation\" :email=\"email\"></ModalConfirm>\n        <ModalDialog v-model=\"isModalOpen\" :text=\"modalText\" />\n      </div>\n      <div class=\"container\">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-md-12\">\n            <h1 class=\"text-center\">Login</h1>\n            <!-- Overlay Component -->\n            <OverlayComponent :show=\"showOverlaySignIn\">\n              <form class=\"mt-4\" @submit.prevent=\"login\">\n                <div class=\"form-group fixed-form-margin\">\n                  <label for=\"email\">Email:</label>\n                  <input v-model=\"email\" class=\"form-control\" type=\"email\" id=\"email\" required\n                    placeholder=\"user@mail.com\" />\n                </div>\n                <div class=\"form-group fixed-form-margin\">\n                  <label for=\"password\">Password:</label>\n                  <input v-model=\"password\" class=\"form-control\" type=\"password\" id=\"password\" placeholder=\"Password\" />\n                </div>\n                <p v-if=\"error\" class=\"text-danger\">\n                  Has introducido mal el email o la contraseña.\n                </p>\n                <button class=\"btn btn-outline-primary fixed-form-margin\" type=\"submit\">Login</button>\n              </form>\n              <p class=\"mt-3\">\n                ¿Don't have an account? <router-link to=\"/signup\">Signup</router-link>\n              </p>\n            </OverlayComponent>\n          </div>\n        </div>\n      </div>\n    </div>\n  </OverlayComponent>\n</template>\n\n\n<script>\n\nimport auth from \"@/assets/js/auth\";\nimport ModalDialog from \"@/components/ModalDialog\";\nimport OverlayComponent from \"@/components/Overlay\";\nimport ModalConfirm from \"@/components/ModalConfirm\";\n\nexport default {\n  components: {\n    ModalDialog,\n    OverlayComponent,\n    ModalConfirm\n  },\n  data: () => ({\n    email: \"\",\n    password: \"\",\n    error: false,\n    showOverlaySignIn: false,\n    showOverlayIsLogedIn: false,\n    modalText: \"\",\n    isModalOpen: false\n  }),\n  beforeRouteEnter(to, from, next) {\n    // Check if user is already logged in and not in the process of logging in\n    const loggedIn = localStorage.getItem(\"loggedIn\") === \"true\";\n    const showOverlaySignIn = localStorage.getItem(\"showOverlaySignIn\") === \"true\";\n\n    if (loggedIn && !showOverlaySignIn) {\n      next(\"/operations\");\n    } else {\n      next();\n    }\n  },\n  computed: {\n    loggedIn() {\n      return localStorage.getItem(\"loggedIn\") === \"true\";\n    }\n  },\n  methods: {\n    // Handle login form submission\n    login() {\n      this.showOverlaySignIn = !this.showOverlaySignIn;\n      auth\n        .signin(this.email, this.password)\n        .then((result) => {\n          // Set user token and information in event bus\n          console.log(result);\n          this.$eventBus.loggedIn = \"true\";\n          this.$eventBus.token = result.data.access_token;\n          this.$eventBus.userBalance = result.data.user.balance;\n          this.$eventBus.userName = result.data.user.username;\n          this.$router.push(\"/operations\");\n        })\n        .catch((error) => {\n          if (error.response.data.message==='User is not confirmed. Please confirm your account.') {\n              this.$bvModal.msgBoxConfirm([error.response.data.message], {\n                buttonSize: 'sm',\n                centered: true,\n                size: 'sm'\n              }).then(value => {\n                if (value) {\n                  this.$refs.modalConfirmation.$refs.modal.show();\n                }else{\n                  return;\n                }\n              })\n          }else{\n              this.openModal(error.response.data.message);\n          }\n        })\n        .finally(() => {\n          this.showOverlaySignIn = !this.showOverlaySignIn;\n        });\n    },\n    // Open modal dialog with a message\n    openModal(msg) {\n      this.isModalOpen = true;\n      this.modalText = msg;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=85a10106&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","on","resetModal","handleOk","showOverlayConfirm","staticClass","_v","$event","stopPropagation","preventDefault","handleSubmit","apply","arguments","invFeedbackTxt","codeState","model","value","callback","$$v","code","expression","staticRenderFns","name","components","OverlayComponent","props","email","type","String","required","data","methods","checkFormValidity","valid","bvModalEvent","auth","response","confirmationMsgBox","text","status","variant","okTitle","$bvModal","msgBoxOk","title","size","buttonSize","okVariant","cancelTitle","headerClass","footerClass","centered","then","catch","component","isOpen","_s","computed","newValue","loggedIn","_e","modalText","isModalOpen","showOverlaySignIn","login","directives","rawName","domProps","target","composing","password","ModalDialog","ModalConfirm","error","showOverlayIsLogedIn","beforeRouteEnter","to","from","next","localStorage","getItem","signin","console","finally","openModal","msg"],"sourceRoot":""}