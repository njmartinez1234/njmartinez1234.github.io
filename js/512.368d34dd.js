"use strict";(self["webpackChunkvue_login_signup_ui"]=self["webpackChunkvue_login_signup_ui"]||[]).push([[512],{9512:function(t,e,a){a.r(e),a.d(e,{default:function(){return L}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"inner-block-custom"},[a("label",[t._v("Operation Calculator")]),a("div",{staticClass:"p-3",staticStyle:{width:"auto",margin:"20px 10px"}},[a("OverlayComponent",{attrs:{show:t.showOverlay}},[a("div",[a("b-tabs",{attrs:{"content-class":"mt-3",fill:""}},[a("div",[a("ModalDialog",{attrs:{text:t.modalText},model:{value:t.isModalOpen,callback:function(e){t.isModalOpen=e},expression:"isModalOpen"}})],1),a("b-tab",{attrs:{title:"Operations",active:""}},[a("OperationDisplay",{attrs:{num1:t.num1,num2:t.num2,operationValue:t.operationValue}}),a("OperationButtons",{attrs:{buttons:t.buttons},on:{"operator-click":t.handleOperatorClick}}),a("ResultDisplay",{attrs:{result:t.result}}),a("div",{staticStyle:{"text-align":"center",padding:"5%"}},[a("OverlayComponent",{attrs:{show:t.showOverlayBtn}},[a("b-button-group",[a("b-button",{attrs:{variant:"success",disabled:t.busy,size:"lg"},on:{click:function(e){return t.calculate()}}},[t._v("Calculate")]),a("b-button",{class:{disabled:t.isRandomActive},attrs:{variant:"primary"},on:{click:function(e){return t.generateRandomNums()}}},[t._v("Random Numbers")])],1)],1)],1)],1),a("b-tab",{attrs:{title:"Records"}},[a("RecordsTable",{attrs:{items:t.items,fields:t.fields,perPage:t.perPage,currentPage:t.currentPage,sortBy:t.sortBy,sortDesc:t.sortDesc,totalRecords:t.totalRecords},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}}})],1)],1)],1)])],1)])])},n=[],o=a(9805);const r="https://ky23idqdol.execute-api.us-east-2.amazonaws.com/api/";var i={getRecords(t,e,a){const s={user_id:t};return o.Z.get(r+"records?page="+e+"&per_page="+a+"&operation_type",s)},removeRecord(t){return o.Z.delete(r+"records/"+t)},OperationCalculation(t,e,a){const s={num1:t,num2:e,operation_id:a};return o.Z.post(r+"records",s)},getAvOperations(){return o.Z.get(r+"operations")},getRandomNumbers(t){return o.Z.get(r+"random-string?"+t)}},l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modal-center",centered:""},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("p",[t._v(t._s(t.text))])])},u=[],c={props:{value:{type:Boolean,required:!0},text:{type:String,required:!0}},computed:{isOpen:{get(){return this.value},set(t){this.$emit("input",t)}}}},p=c,d=a(1001),h=(0,d.Z)(p,l,u,!1,null,null,null),m=h.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-txt",staticStyle:{"text-align":"center",padding:"3%"}},[a("h1",{staticStyle:{"font-size":"2vw"}},[t._v(t._s(t.num1)+" "+t._s(t.operationValue)+" "+t._s(t.num2))])])},v=[],g={props:{num1:{type:String},num2:{type:String},operationValue:{type:String}}},b=g,f=(0,d.Z)(b,y,v,!1,null,null,null),O=f.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center",padding:"3%"}},[a("b-button-group",{attrs:{size:"lg"}},t._l(t.buttons,(function(e){return a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover:title",value:e.type,expression:"button.type",modifiers:{"hover:title":!0}}],key:e.id,on:{click:function(a){return t.handleClick(e.symbol,e.id)}}},[t._v(" "+t._s(e.symbol)+" ")])})),1)],1)},_=[],R={props:{buttons:{type:Array,required:!0}},methods:{handleClick(t,e){this.$emit("operator-click",t,e)}}},k=R,x=(0,d.Z)(k,w,_,!1,null,null,null),C=x.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-txt",staticStyle:{"text-align":"center",padding:"3%"}},[a("h1",{staticStyle:{"font-size":"2vw"}},[t._v(t._s(t.result))])])},D=[],P={props:{result:{type:[Number,String]},operation_id:{type:Number}}},M=P,V=(0,d.Z)(M,B,D,!1,null,null,null),S=V.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overflow-auto"},[a("div",{staticClass:"mb-2"},[a("b-form-input",{attrs:{placeholder:"Filter"},model:{value:t.filterValue,callback:function(e){t.filterValue=e},expression:"filterValue"}})],1),a("OverlayComponent",{attrs:{show:t.showOverlayTable}},[a("b-table",{attrs:{id:"my-table",items:t.items,fields:t.fields,"per-page":t.perPage,small:"","sort-by":t.sortBy,"sort-desc":t.sortDesc},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},"row-clicked":t.rowClicked},scopedSlots:t._u([{key:"cell(delete)",fn:function(e){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.deleteRow(e.item)}}},[t._v(" Remove ")])]}}])})],1),a("b-pagination",{attrs:{align:"center","per-page":t.perPage,"total-rows":t.totalRecords,"aria-controls":"my-table"},on:{input:t.handlePageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},T=[],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-overlay",{attrs:{show:t.show,"spinner-variant":"primary","spinner-type":"grow",variant:"white","spinner-small":"",rounded:"sm"}},[t._t("default")],2)},$=[],A={name:"OverlayComponent",props:{show:{type:Boolean,default:!1}}},E=A,z=(0,d.Z)(E,N,$,!1,null,null,null),I=z.exports,q={components:{ModalDialog:m,OverlayComponent:I},created(){this.fetchData()},data(){return{perPage:6,currentPage:1,items:[],totalRecords:null,showOverlayTable:!1,fields:[{key:"id",label:"ID"},{key:"operation.type",label:"Op. type"},{key:"operation.cost",label:"Cost"},{key:"operation_response",label:"Op .Result"},{key:"date",label:"Op. date"},{key:"delete",label:""}],sortBy:"",sortDesc:!1,filterValue:"",operationValue:""}},computed:{filteredItems(){if(!this.filterValue)return this.items;const t=new RegExp(this.filterValue,"i");return this.items.filter((e=>t.test(e.name)))},totalItems(){return this.totalRecords},paginatedItems(){const t=(this.currentPage-1)*this.perPage,e=t+this.perPage;return this.filteredItems.slice(t,e)}},methods:{async fetchData(){await Promise.all([this.fetchRecords(1)])},async fetchRecords(t){this.showOverlayTable=!this.showOverlayTable;try{const e=await i.getRecords(null,t,this.perPage);this.totalRecords=e.data.total_records,this.items=e.data.data}catch(e){this.openModal(e.message)}this.showOverlayTable=!this.showOverlayTable},async deleteRow(t){try{await i.removeRecord(t.id);const e=this.items.indexOf(t);-1==e&&this.items.splice(e,1),this.fetchRecords(this.currentPage)}catch(e){this.openModal(e.message)}},rowClicked(t){},handlePageChange(t){this.fetchRecords(t),this.$emit("update:current-page",t)}}},F=q,j=(0,d.Z)(F,Z,T,!1,null,null,null),G=j.exports,H={components:{ModalDialog:m,OperationDisplay:O,OperationButtons:C,ResultDisplay:S,RecordsTable:G,OverlayComponent:I},created(){this.fetchData()},data(){return{perPage:6,busy:!1,currentPage:1,items:[],totalRecords:null,showOverlay:!1,showOverlayBtn:!1,fields:[{key:"id",label:"ID"},{key:"operation.type",label:"Op. type"},{key:"operation.cost",label:"Cost"},{key:"operation_response",label:"Op .Result"},{key:"date",label:"Op. date"},{key:"delete",label:""}],buttons:[],sortBy:"",sortDesc:!1,num1:null,num2:null,isModalOpen:!1,modalText:"",isRandomActive:!1,filterValue:"",operationValue:"",result:null}},methods:{async fetchData(){this.showOverlay=!this.showOverlay,await Promise.all([this.generateRandomNums()]),this.fetchButtons(),this.showOverlay=!this.showOverlay},async fetchButtons(){try{const t=await i.getAvOperations();this.buttons=t.data.data}catch(t){this.openModal(t.message)}},handleOperatorClick(t,e){"RDM"===t?(this.num1=null,this.num2=null,this.isRandomActive=!0):"√"===t?(this.num2=null,this.isRandomActive=!1):this.isRandomActive=!1,this.operationValue=t,this.operation_id=e},async generateRandomNums(){this.showOverlayBtn=!this.showOverlayBtn;try{const t=await i.getRandomNumbers("numeric=true"),[e,a]=t.data.data;"√"===this.operationValue?(this.num1=e,this.num2=null):(this.num1=e,this.num2=a)}catch(t){this.openModal(t.message)}this.showOverlayBtn=!this.showOverlayBtn},async calculate(){if(null===(this.num1&&this.num2)&&"RDM"!==this.operationValue)this.openModal("Please generate random value(s) to proceed with the operation.");else if(""===this.operationValue)this.openModal("Please select a valid operation.");else{this.showOverlayBtn=!this.showOverlayBtn;try{if("RDM"===this.operationValue){const t=await i.getRandomNumbers("numeric=false");this.string=t.data.data[0];const e=await i.OperationCalculation(this.string,this.num2,this.operation_id);this.result=e.data.data["operation_response"]}else{const t=await i.OperationCalculation(this.num1,this.num2,this.operation_id);console.log(t),this.result=t.data.data["operation_response"]}}catch(t){this.openModal(t.message)}this.showOverlayBtn=!this.showOverlayBtn}},openModal(t){this.isModalOpen=!0,this.modalText=t}}},J=H,K=(0,d.Z)(J,s,n,!1,null,null,null),L=K.exports}}]);
//# sourceMappingURL=512.368d34dd.js.map