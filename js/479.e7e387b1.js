"use strict";(self["webpackChunkvue_login_signup_ui"]=self["webpackChunkvue_login_signup_ui"]||[]).push([[479],{6098:function(t,e,a){a.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modal-center",centered:""},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("p",[t._v(t._s(t.text))])])},i=[],n={props:{value:{type:Boolean,required:!0},text:{type:String,required:!0}},computed:{isOpen:{get(){return this.value},set(t){this.$emit("input",t)}}}},r=n,l=a(1001),o=(0,l.Z)(r,s,i,!1,null,null,null),u=o.exports},9479:function(t,e,a){a.r(e),a.d(e,{default:function(){return z}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("div",{staticClass:"inner-block-custom"},[a("p",[a("label",[t._v("Balance: "),a("b",[t._v(t._s(this.userBalance))])])]),a("div",{staticClass:"p-3",staticStyle:{width:"auto",margin:"20px 10px"}},[a("OverlayComponent",{attrs:{show:t.showOverlay}},[a("div",[a("b-tabs",{attrs:{"content-class":"mt-3",fill:""}},[a("div",[a("ModalDialog",{attrs:{text:t.modalText},model:{value:t.isModalOpen,callback:function(e){t.isModalOpen=e},expression:"isModalOpen"}})],1),a("b-tab",{attrs:{title:"Operations",active:""}},[a("OperationDisplay",{attrs:{num1:t.num1,num2:t.num2,operationValue:t.operationValue}}),a("OperationButtons",{attrs:{buttons:t.buttons},on:{"operator-click":t.handleOperatorClick}}),a("div",{staticStyle:{"align-items":"center","text-align":"center",margin:"0 130px 0 130px",padding:"3%"}},[a("b-alert",{staticStyle:{"text-align":"center","margin-bottom":"0px"},attrs:{show:"",variant:t.variantAlert}},[a("h1",{staticStyle:{"font-size":"1.2vw"}},[t._v(t._s(this.result))])])],1),a("div",{staticStyle:{"text-align":"center",padding:"3%"}},[a("OverlayComponent",{attrs:{show:t.showOverlayBtn}},[a("b-button-group",[a("b-button",{attrs:{variant:"success",disabled:t.busy,size:"lg"},on:{click:function(e){return t.calculate()}}},[t._v("Calculate")]),a("b-button",{class:{disabled:!this.isArithmetic},attrs:{variant:"primary"},on:{click:function(e){return t.generateRandomNums()}}},[t._v("Random Numbers")])],1)],1)],1)],1),a("b-tab",{attrs:{title:"Records"},on:{click:function(e){return t.yourMethodHere()}}},[a("RecordsTable")],1)],1)],1)])],1)])],1)},i=[],n=a(9805);const r="https://ky23idqdol.execute-api.us-east-2.amazonaws.com/api/v1/";n.Z.defaults.headers.common["Authorization"]=`${localStorage.getItem("token")}`;var l={getRecords(t,e,a,s=""){const i={user_id:t};return n.Z.get(r+"records?page="+e+"&per_page="+a+"&operation_type="+s,i)},removeRecord(t){return n.Z.delete(r+"records/"+t)},OperationCalculation(t,e,a,s=""){const i={num1:t,num2:e,operation_id:a,cognito_user_id:s};return n.Z.post(r+"records",i)},getAvOperations(){return n.Z.get(r+"operations")},getRandomNumbers(t){return n.Z.get(r+"random-string?"+t)}},o=a(6098),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-txt",staticStyle:{"text-align":"center",padding:"3%"}},[a("h1",{staticStyle:{"font-size":"2vw"}},[t._v(t._s(t.num1)+" "+t._s(t.operationValue)+" "+t._s(t.num2))])])},c=[],h={props:{num1:{type:String},num2:{type:String},operationValue:{type:String}}},d=h,p=a(1001),m=(0,p.Z)(d,u,c,!1,null,null,null),g=m.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center",padding:"3%"}},[a("b-button-group",{attrs:{size:"lg"}},t._l(t.buttons,(function(e){return a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover:title",value:e.type,expression:"button.type",modifiers:{"hover:title":!0}}],key:e.id,on:{click:function(a){return t.handleClick(e.symbol,e.id,e.is_arithmetic,e.type)}}},[t._v(" "+t._s(e.symbol)+" ")])})),1)],1)},v=[],b={props:{buttons:{type:Array,required:!0}},methods:{handleClick(t,e,a,s){this.$emit("operator-click",t,e,a,s)}}},f=b,w=(0,p.Z)(f,y,v,!1,null,null,null),O=w.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-txt",staticStyle:{"text-align":"center",padding:"3%"}},[a("h1",{staticStyle:{"font-size":"2vw"}},[t._v(t._s(t.result))])])},B=[],k={props:{result:{type:[Number,String]},operation_id:{type:Number}}},x=k,C=(0,p.Z)(x,_,B,!1,null,null,null),R=C.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overflow-auto"},[a("div",{staticClass:"mb-2"},[a("b-form-input",{attrs:{placeholder:"Filter by operation type"},on:{input:t.startDebounceTimer},model:{value:t.filterValue,callback:function(e){t.filterValue=e},expression:"filterValue"}})],1),a("OverlayComponent",{attrs:{show:t.showOverlayTable}},[a("b-table",{attrs:{id:"my-table",items:t.items,fields:t.fields,"per-page":t.perPage,small:"",bordered:!0},on:{"row-clicked":t.rowClicked},scopedSlots:t._u([{key:"cell(delete)",fn:function(e){return[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.deleteConfirmationMsgBox(e.item)}}},[t._v(" Remove ")])]}}])})],1),a("b-pagination",{attrs:{align:"center","per-page":t.perPage,"total-rows":t.totalRecords,"aria-controls":"my-table"},on:{input:t.handlePageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},T=[],D=a(8341),P={components:{ModalDialog:o.Z,OverlayComponent:D.Z},created(){this.fetchData()},data(){return{perPage:6,currentPage:1,items:[],totalRecords:null,showOverlayTable:!1,fields:[{key:"id",label:"ID",sortable:!0},{key:"operation.type",label:"Op. type",sortable:!0},{key:"operation.cost",label:"Cost",sortable:!0},{key:"operation_response",label:"Op .Result",sortable:!0},{key:"date",label:"Op. date",sortable:!0},{key:"delete",label:""}],sortBy:"",sortDesc:!1,filterValue:"",operationValue:"",debounceTimer:null}},computed:{totalItems(){return this.totalRecords},paginatedItems(){const t=(this.currentPage-1)*this.perPage,e=t+this.perPage;return this.filteredItems.slice(t,e)}},methods:{async fetchData(){await Promise.all([this.fetchRecords(1)])},async fetchRecords(t){this.showOverlayTable=!this.showOverlayTable;try{const e=await l.getRecords(null,t,this.perPage,this.filterValue);this.totalRecords=e.data.total_records,this.items=e.data.data}catch(e){return}this.showOverlayTable=!this.showOverlayTable},async deleteRow(t){try{await l.removeRecord(t.id);const e=this.items.indexOf(t);-1!=e&&this.items.splice(e,1),this.fetchRecords(this.currentPage)}catch(e){return}},deleteConfirmationMsgBox(t){this.$bvModal.msgBoxConfirm("Please confirm that you want to delete this item.",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((e=>{e&&this.deleteRow(t)})).catch((t=>{}))},startDebounceTimer(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this.fetchRecords(1)}),300)},rowClicked(t){},handlePageChange(t){this.fetchRecords(t),this.$emit("update:current-page",t)}}},V=P,N=(0,p.Z)(V,S,T,!1,null,null,null),Z=N.exports,M=a(7148),I={components:{ModalDialog:o.Z,OperationDisplay:g,OperationButtons:O,ResultDisplay:R,RecordsTable:Z,OverlayComponent:D.Z,NavBar:M.Z},computed:{loggedIn(){return"true"===localStorage.getItem("loggedIn")},getUserName(){return localStorage.getItem("userName")},getUserBalance(){return localStorage.getItem("userBalance")}},created(){this.loggedIn||this.$router.push("/login"),this.userName=this.getUserName,this.userBalance=this.getUserBalance,this.fetchData()},data(){return{busy:!1,showOverlay:!1,showOverlayBtn:!1,buttons:[],num1:null,num2:null,tmp_num:"",isModalOpen:!1,opString:"",modalText:"",operationValue:"?",result:"Select an operation type.",isArithmetic:!0,variantAlert:"info",userName:"",userBalance:""}},methods:{async fetchData(){this.showOverlay=!this.showOverlay,this.showOverlayBtn=!this.showOverlayBtn,await Promise.all([this.generateRandomNums()]),this.fetchButtons(),this.showOverlayBtn=!this.showOverlayBtn,this.showOverlay=!this.showOverlay},async fetchButtons(){try{const t=await l.getAvOperations();this.buttons=t.data.data}catch(t){this.openModal(t.message)}},handleOperatorClick(t,e,a,s){a?"√"===t&&(this.tmp_num=this.num1,this.num2=this.num1,this.num1=null):(t=s,this.num1=null,this.num2=null),this.opString=s,this.operationValue=t,this.operationId=e,this.isArithmetic=a},async generateRandomNums(){this.showOverlayBtn=!this.showOverlayBtn;try{const t=await l.getRandomNumbers("numeric=true"),[e,a]=t.data.data;"√"===this.operationValue?(this.tmp_num=e,this.num1=null,this.num2=e):(this.num1=e,this.num2=a)}catch(t){this.openModal(t.message)}this.showOverlayBtn=!this.showOverlayBtn},async calculate(){const t="Please generate random value(s) to proceed with the "+this.opString+" operation.";if("√"===this.operationValue&&null===this.num2)this.resultDisplayHandler(t,"warning");else if(["√","Random str"].includes(this.operationValue)||null!==this.num1||null!==this.num2)if(["√","Random str"].includes(this.operationValue)||null!==this.num1&&null!==this.num2)if("?"===this.operationValue||""===this.operationValue)this.resultDisplayHandler("Please select a valid operation.","warning");else{this.showOverlayBtn=!this.showOverlayBtn;try{if(this.isArithmetic)"√"===this.operationValue?this.result=await l.OperationCalculation(this.tmp_num,this.num2,this.operationId):this.result=await l.OperationCalculation(this.num1,this.num2,this.operationId);else{const t=await l.getRandomNumbers("numeric=false");this.string=t.data.data[0],this.result=await l.OperationCalculation(this.string,this.num2,this.operationId)}this.userBalance=this.result.data.data["user_balance"],this.$eventBus.userBalance=this.userBalance,this.result=this.result.data.data["operation_response"],this.resultDisplayHandler(this.result,"success")}catch(e){this.openModal(e.response.data.error)}this.showOverlayBtn=!this.showOverlayBtn}else this.resultDisplayHandler(t,"warning");else this.resultDisplayHandler(t,"warning")},openModal(t){this.isModalOpen=!0,this.modalText=t},resultDisplayHandler(t,e){this.result=t,this.variantAlert=e},yourMethodHere(){}}},$=I,A=(0,p.Z)($,s,i,!1,null,null,null),z=A.exports}}]);
//# sourceMappingURL=479.e7e387b1.js.map