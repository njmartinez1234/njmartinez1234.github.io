"use strict";(self["webpackChunkvue_login_signup_ui"]=self["webpackChunkvue_login_signup_ui"]||[]).push([[248],{6098:function(e,t,n){n.d(t,{Z:function(){return u}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:"modal-center",centered:""},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("p",[e._v(e._s(e.text))])])},o=[],s={props:{value:{type:Boolean,required:!0},text:{type:String,required:!0}},computed:{isOpen:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},r=s,i=n(1001),l=(0,i.Z)(r,a,o,!1,null,null,null),u=l.exports},3248:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OverlayComponent",{attrs:{show:e.loggedIn}},[e.loggedIn?e._e():n("div",{staticClass:"inner-block"},[n("div",[n("ModalDialog",{attrs:{text:e.modalText},model:{value:e.isModalOpen,callback:function(t){e.isModalOpen=t},expression:"isModalOpen"}})],1),n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-12"},[n("h1",{staticClass:"text-center"},[e._v("Login")]),n("OverlayComponent",{attrs:{show:e.showOverlaySignIn}},[n("form",{staticClass:"mt-4",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("div",{staticClass:"form-group fixed-form-margin"},[n("label",{attrs:{for:"email"}},[e._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:"",placeholder:"user@mail.com"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"form-group fixed-form-margin"},[n("label",{attrs:{for:"password"}},[e._v("Password:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e.error?n("p",{staticClass:"text-danger"},[e._v(" Has introducido mal el email o la contraseña. ")]):e._e(),n("button",{staticClass:"btn btn-outline-primary fixed-form-margin",attrs:{type:"submit"}},[e._v("Login")])]),n("p",{staticClass:"mt-3"},[e._v(" ¿Don't have an account? "),n("router-link",{attrs:{to:"/signup"}},[e._v("Signup")])],1)])],1)])])])])},o=[],s=(n(1539),n(1801)),r=n(6098),i=n(8341),l={components:{ModalDialog:r.Z,OverlayComponent:i.Z},data:function(){return{email:"",password:"",error:!1,showOverlaySignIn:!1,showOverlayIsLogedIn:!1,modalText:"",isModalOpen:!1}},beforeRouteEnter:function(e,t,n){var a="true"===localStorage.getItem("loggedIn");a?n("/operations"):n()},computed:{loggedIn:function(){return"true"===localStorage.getItem("loggedIn")}},methods:{login:function(){var e=this;this.showOverlaySignIn=!this.showOverlaySignIn,s.Z.signin(this.email,this.password).then((function(t){e.$eventBus.token=t.data.access_token,e.$eventBus.userBalance=t.data.user.balance,e.$eventBus.userName=t.data.user.username,e.$eventBus.loggedIn="true",e.$router.push("/operations")})).catch((function(t){e.openModal(t.response.data.message)})).finally((function(){e.showOverlaySignIn=!e.showOverlaySignIn}))},openModal:function(e){this.isModalOpen=!0,this.modalText=e}}},u=l,c=n(1001),d=(0,c.Z)(u,a,o,!1,null,null,null),p=d.exports}}]);
//# sourceMappingURL=248-legacy.59385145.js.map