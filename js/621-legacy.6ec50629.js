"use strict";(self["webpackChunkvue_login_signup_ui"]=self["webpackChunkvue_login_signup_ui"]||[]).push([[621],{6098:function(e,t,r){r.d(t,{Z:function(){return d}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-modal",{attrs:{id:"modal-center",centered:""},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[r("p",[e._v(e._s(e.text))])])},o=[],n={props:{value:{type:Boolean,required:!0},text:{type:String,required:!0}},computed:{isOpen:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},s=n,i=r(1001),l=(0,i.Z)(s,a,o,!1,null,null,null),d=l.exports},1621:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("OverlayComponent",{attrs:{show:e.loggedIn}},[e.loggedIn?e._e():r("div",{staticClass:"inner-block"},[r("div",[r("ModalDialog",{attrs:{text:e.modalText},model:{value:e.isModalOpen,callback:function(t){e.isModalOpen=t},expression:"isModalOpen"}}),r("ModalConfirm",{ref:"modalConfirmation",attrs:{email:e.email}})],1),r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-md-12"},[r("h1",{staticClass:"text-center"},[e._v("Sign Up")]),r("OverlayComponent",{attrs:{show:e.showOverlaySignUp}},[r("form",{staticClass:"mt-2",on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[r("div",{staticClass:"form-group fixed-form-margin"},[r("label",{attrs:{for:"email"}},[e._v("Email:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:"",placeholder:"user@mail.com"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"mb-1"}),r("div",{staticClass:"form-group fixed-form-margin"},[r("label",{attrs:{for:"password"}},[e._v("Password:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("div",{staticClass:"form-group fixed-form-margin"},[r("label",{attrs:{for:"password-repeat"}},[e._v("Re-enter password:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordRepeat,expression:"passwordRepeat"}],staticClass:"form-control",attrs:{type:"password",id:"password-repeat",placeholder:"Password repeat"},domProps:{value:e.passwordRepeat},on:{input:function(t){t.target.composing||(e.passwordRepeat=t.target.value)}}})]),r("button",{staticClass:"btn btn-outline-primary fixed-form-margin",attrs:{type:"submit",disabled:!e.isFormValid}},[e._v(" Sign Up ")])]),r("p",{staticClass:"mt-3"},[e._v(" Â¿Already have an account? "),r("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1)])],1)])])])])},o=[],n=r(6198),s=(r(8975),r(1801)),i=r(6098),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",centered:"",title:"User Confirmation"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("OverlayComponent",{attrs:{show:e.showOverlayConfirm}},[r("p",{staticClass:"my-4"},[e._v(" Please enter the confirmation code we sent to your email. ")]),r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("b-form-group",{attrs:{"label-for":"name-input","invalid-feedback":e.invFeedbackTxt,state:e.codeState}},[r("b-form-input",{attrs:{id:"name-input",type:"number",state:e.codeState,required:"",size:"lg",placeholder:"Enter your code"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)],1)])],1)],1)},d=[],u=r(8341),c={name:"ModalConfirmation",components:{OverlayComponent:u.Z},props:{email:{type:String,required:!0}},data:function(){return{code:"",codeState:null,invFeedbackTxt:"Code is required",showOverlayConfirm:!1}},methods:{checkFormValidity:function(){var e=this.$refs.form.checkValidity();return this.codeState=e,e},resetModal:function(){this.code="",this.codeState=null},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleSubmit:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkFormValidity()){t.next=2;break}return t.abrupt("return");case 2:return e.showOverlayConfirm=!e.showOverlayConfirm,t.prev=3,t.next=6,s.Z.confirmation(e.email,e.code);case 6:r=t.sent,e.confirmationMsgBox(r.data.message,"Success","success","OK"),t.next=15;break;case 10:return t.prev=10,t.t0=t["catch"](3),e.confirmationMsgBox(t.t0.response.data.message,"Error","danger","Retry"),e.showOverlayConfirm=!e.showOverlayConfirm,t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))()},confirmationMsgBox:function(e,t,r,a){var o=this;this.$bvModal.msgBoxOk(e,{title:t,size:"sm",buttonSize:"sm",okTitle:a,okVariant:r,cancelTitle:"NO",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0}).then((function(e){"success"===r&&e&&o.$router.push("/login")})).catch((function(e){}))}}},p=c,m=r(1001),f=(0,m.Z)(p,l,d,!1,null,null,null),v=f.exports,h={components:{ModalDialog:i.Z,OverlayComponent:u.Z,ModalConfirm:v},data:function(){return{email:"",password:"",passwordRepeat:"",modalText:"",isModalOpen:!1,showOverlaySignUp:!1,boxTwo:"",resetModal:!1}},created:function(){this.loggedIn&&this.$router.push("/operations")},computed:{isFormValid:function(){return this.email&&this.password&&this.password===this.passwordRepeat},loggedIn:function(){return"true"===localStorage.getItem("loggedIn")}},methods:{register:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showOverlaySignUp=!e.showOverlaySignUp,t.prev=1,t.next=4,s.Z.signup(e.email,e.password);case 4:e.$refs.modalConfirmation.$refs.modal.show(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.openModal(t.t0.response.data.message);case 10:e.showOverlaySignUp=!e.showOverlaySignUp;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},openModal:function(e){this.isModalOpen=!0,this.modalText=e}}},g=h,w=(0,m.Z)(g,a,o,!1,null,null,null),b=w.exports}}]);
//# sourceMappingURL=621-legacy.6ec50629.js.map